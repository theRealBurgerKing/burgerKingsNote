# Data Visualisation
Data visualization = 把原始数据转成容易理解的图形，让人能快速做决策。


**图表（Charts）**和**图形（Graphs）**之间的区别。

### 共同点

两者都依赖于**重复的、固定的模式**来展示数据。

### 图表（Charts）的特点

- **不受 X/Y 轴的限制**
- **不一定是数值型数据**

### 图形（Graphs）的特点

- **依赖于 X 轴或 Y 轴（或两者）**
- **至少有一个轴是数值型的**
- 通过在坐标网格上绘制点来展示数据之间的相关性


数据组织（Organising Data）的最佳实践
大多数人**从左到右阅读**，因此将最大值放在顶部（或最前面）符合阅读习惯，让观众能快速抓住重点。
**但是**，排序规则并非绝对——**时间线数据例外**。

不要滥用颜色
颜色要有意义：对于连续数值数据，应使用**单一色系的深浅渐变**（如浅蓝→深蓝），让观众一眼就能理解数值高低。



- **动态范围**：颜色刻度要匹配数据的实际分布
- **文化联想**：遵循人们对颜色的既有认知（红=危险，绿=安全）
- **对比度**：确保前景与背景有足够的视觉区分

- **色盲友好设计**：约10%的人有某种形式的色觉缺陷，使用经过验证的配色方案
- **刻度一致性**：X轴和Y轴的间隔必须均匀，否则会误导观众


- **条形图的Y轴必须从零开始**——这是基本原则
- **截断Y轴会夸大差异**——即使标注了数值，视觉印象仍会误导

- **图例必不可少**：每个轴、每条线、每种颜色都需要清晰标注
- **注明数据来源**：增加可信度，便于验证



可视化之前，往往需要大量的数据清洗工作 
- **核心思想**：原始数据往往需要**转换**才能揭示真正有意义的洞察
- **比率（Ratio）**：将不同单位的数据转换为可比较的形式
- **百分位数（Percentile）**：展示相对位置，便于理解在群体中的站位




**数据聚合**是可视化前的必要步骤——将细节数据转化为有意义的汇总统计
sum avg median等

**核心挑战**：确定在什么情况下使用哪种图表是最困难的事情之一。
默认选择条形图：人类大脑天生擅长区分矩形的长度差异




- **堆叠条形图**：同时展示总量和构成
- **百分比堆叠图**：专注于比例，忽略绝对值。整个条形 = **100%**（所有条形等长）
- **先明确想要展示什么**：比较？关系？分布？构成？连接？


折线图强调趋势
散点图强调两个变量之间的关系
揭示不同的数据模式：
- **正相关**：点呈上升趋势（左下→右上）
- **负相关**：点呈下降趋势（左上→右下）
- **无相关但有模式**：寻找聚类、分组或异常值
- **气泡图**：用点的大小增加一个维度，适合展示三个变量的关系






# 第二节Data Wrangling/Pre-processing
## 删除不必要的数据

### 第一部分：为什么要删除数据？

**原因一：提升性能**

**原因二：避免错误洞察**

- 某些列/行可能有**大量缺失值**
- 用默认值填充可能会**扭曲分析结果**
- 有时删除比填充更明智

**原因三：存储限制**

**工具提示**：Python 的 `drop()` 函数可以方便地实现这一操作
### 要点总结

| 操作       | 代码                          | axis | 说明     |
| -------- | --------------------------- | ---- | ------ |
| 删除全NaN的行 | `dropna(axis=0, how='all')` | 0    | 行方向    |
| 删除全NaN的列 | `dropna(axis=1, how='all')` | 1    | 列方向    |
| 删除指定列    | `drop(['列名'], axis=1)`      | 1    | 按名称删除  |
| 原地修改     | `inplace=True`              | -    | 不返回新对象 |
### 要点总结

| 操作   | 函数                      | 说明        |
| ---- | ----------------------- | --------- |
| 条件删除 | `df.drop(df[条件].index)` | 删除满足条件的行  |
| 删除重复 | `df.drop_duplicates()`  | 保留第一次出现的行 |
| 原地修改 | `inplace=True`          | 直接修改原数据框  |
### 第一部分：填充缺失值（Filling Missing Values）

**场景**：有时删除 NaN 不是最佳选择，可以用合适的值来**填充**

**常见填充策略**：

- 默认值（如 0）
- 均值（mean）
- 中位数（median）
- 自定义值



### 第二部分：数据格式化（Formatting Data）

**常见格式问题**：

|问题类型|示例|
|---|---|
|**数据类型错误**|整数被读取为字符串（"123" 而非 123）|
|**多余空格**|" New York " 而非 "New York"|
|**日期格式不一致**|"2024/01/15" vs "15-01-2024" vs "Jan 15, 2024"|
|**列名难以理解**|自动生成的列名如 "col_001_xyz"|

**为什么重要**：

- 格式问题会导致**分析错误**（如字符串无法计算）
- 影响**数据匹配**（带空格的字符串无法正确匹配）
- 降低**可读性**（难以理解的列名影响工作效率）



**Concatenate vs Merge：**

- **Concat（拼接）**：纵向堆叠，把多个表"摞"在一起，要求列结构相同
- **Merge（合并）**：横向连接，根据共同的键把两个表的信息"拼"在一起，类似Excel中的VLOOKUP或数据库的JOIN