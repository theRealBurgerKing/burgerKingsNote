# ✅ **Week 1：Data Access – 全知识点总结（逐点详细解释）**

---

# **1. Data Lakes 与 Data Pipelines（数据湖 & 数据管道）**

📍页 2
### ⭐ 你需要理解的核心概念：

- **Data Lake**：存所有类型的原始数据（Raw format），来自网站、数据库、社交媒体等。
    
- **Data Pipeline**：把数据从来源 → 清洗 → 转换 → 变成可查询的数据（data transforms）。
    
- **目的**：最终让使用者（包括人、应用程序、API）能直接查询干净、结构化的数据。
    

---

# **2. What is Data Services?（数据服务是什么？）**

📍页 3

Data Services 的核心是“两件事”：

### **① Data Integration / Aggregation（数据整合）**

- 从多个来源抓数据（API、文件、数据库、爬虫等）
    
- 清洗、统一格式、组合到一起（data prep）
    

### **② Data Publication（数据发布）**

- 通过 API（REST / SOAP）把处理好的数据给用户使用
    

---

# **3. Implementation Challenges（实现难点）**

📍页 4

### ❗ 最大困难：无法获得 “Single View of X”

例如，“我想知道一个用户的所有信息”，但这些信息可能散落在：

- CSV
    
- 数据库表
    
- 第三方 API
    
- 文档
    
- Excel
    
- 社交媒体
    

### ⚠ 数据不统一的痛点：

- 格式不同（JSON / XML / CSV / PDF…）
    
- 协议不同（HTTP、SOAP、数据库协议…）
    
- 需要手动写复杂的数据整合逻辑（distributed query plan）
    

---

# ==**4. Obtaining Data（如何获取数据）**==

📍页 5–12

Week 1 的核心任务：**理解不同数据来源的收集难度**。

### **（1）Unformatted Text（非结构化纯文本）**

📍页 6–8  
最难处理，因为：

- 内容表达不统一
    
- 需要 NLP、机器学习
    
- 实体识别困难（如 "end point solution" 是公司？产品？）
    

### **（2）PDF**

📍页 9–12  
难点：

- 没有真正的结构
    
- 文字块不代表单词
    
- 表格边界很难识别  
    → 需要工具：PDFMiner、pdftables
    

### **（3）HTML**

📍页 13–20  
常见于爬虫（BeautifulSoup）  
HTML 有标签，所以结构比 PDF 好处理，但仍“半结构化”。
可以利用 **文本内容与页面结构** 来探索文档。
### **（4）XML & JSON**

📍页 21–24  
优点：**结构化数据，简单易解析**  

==XML：==
- 用标签（tag）描述数据
    
- 表示层级结构（树结构）
    
- 用于不同系统之间传输数据


大量有价值的数据以 **JSON 格式** 提供

- 通常来自 Web 服务 API
    

Python 提供了 ==**json**== 库来处理 JSON 数据

- `dump()`：将 Python 对象序列化为 JSON 数据
    
- `load()`：将 JSON 数据解析为 Python 对象



    

### **（5）CSV**

📍页 25–26  
最常见的结构化文件  
大多数 CSV 数据在本质上等同于一张 **（关系型）表格**

- 但可能没有完全符合关系数据库意义上的“规范化”
- 许多 CSV 数据来自电子表格

- 列名（column headings）如果存在，可以提供元数据（metadata）


Python 提供了多个用于处理 CSV 的模块。

**csv 模块**：提供最基础的 CSV 读写功能

- 每一行会变成一个 Python 列表
    
- 所有行组成一个“列表的列表”（list of lists）
    

**pandas 模块**：提供更高级的 CSV 读写能力

- 自动将数据加载为 **DataFrame**（数据表格的抽象形式）
    
- 同时提供大量用于过滤、计算、聚合等操作的方法

---

# **5. E-commerce / Social Media / Search 的数据挑战（真实世界的不同数据需求）**

📍页 29–33

### **① E-Commerce（事务型系统）**

## **E-Commerce website（电商网站）**

- 数据操作主要是事务（Transactions），包含大量 **读取（Reads）与写入（Writes）**
    
- 业务操作几乎全部是在线进行（on-line）
    
- 响应时间需要很快  
    但更重要的是 **确保交易的安全性（security）与可靠性（reliability）**
    
- **ACID 属性非常关键**
    

ACID 四要素意味着：

- **A – Atomicity 原子性：**事务要么全部成功，要么全部失败
    
- **C – Consistency 一致性：**只能写入有效数据
    
- **I – Isolation 隔离性：**事务之间互不干扰
    
- **D – Durability 持久性：**写入的数据不会丢失
    

电商网站因为涉及支付、订单、库存，所以 ACID 很重要。
    

### **② Image/Fan-out 平台（如 Instagram/Twitter）**

## **Image serving website（图片服务网站，例如社交媒体）**

- 数据操作主要是 **读取（Reads）**，用于加载用户照片、视频等
    
- 存在 **“fan-out” 效应**（例如某人发帖后推送给所有粉丝），这是一个技术挑战
    
- 所有操作主要是在线（on-line）进行
    
- 对带宽（bandwidth）的需求很高
    
- ACID 的要求可以相对放宽（Relaxed）
    
    - 例如点赞数稍微延迟同步没关系
        
    - 评论数短暂不一致也不是大问题
        

社交媒体强调 **高吞吐、高并发、快速读取**，不需要强一致性。

总结：读特别快（timeline 一次查就能返回）
写会爆炸（Fan-out Amplification）


### **③ Search（搜索引擎）**

- 查询必须极快
    
- 数据更新离线批处理
    
- ACID 可以弱一点
    

---

# **6. Data Models（数据模型）——Week 1 最大重点章节**

📍页 34–59

### ⭐ 6.1 Relational Model（关系模型 / SQL）

- 最经典模型（几十年验证）
    
- 强调一致性、事务、结构化表格
    
- 多用于商业系统
    

### ⭐ 6.2 NoSQL（文档型、键值型、图数据库等）

为了解决新需求出现：

- 更高写入吞吐
    
- 更灵活的结构
    
- 不需要固定 schema
    
- 潜在跨节点水平扩展能力
    

#### NoSQL 的缺点：

📍页 37–38

- 没有 JOIN
    
- 经常牺牲 ACID
    
- 多对多关系很难处理
    
- 复杂查询性能差
    

---

# **7. Relational vs Document（关系模型 vs 文档模型）**

📍页 39–52

### **文档模型（如 MongoDB）适合：**

- 树状结构
    
- 嵌套数据
    
- 一次性取整个对象（locality好）
    

### **但不适合：**

- 多对多（M–M）
    
- 多对一（M–1）
    
- 大规模共享实体（如城市名、公司名）
    
- 结构变化频繁
    

### **核心比较：**

|特点|Relational|Document|
|---|---|---|
|结构|固定 schema|弹性 schema（schema-on-read）|
|查询|JOIN 强|JOIN 弱|
|数据一致性|强|弱|
|嵌套结构|不自然|非常自然|
|多对多关系|强项|弱项|
|数据 locality|差|好|

---

# **8. Graph Data Model（图数据库）**

📍页 53–60

适合：

- 关系高度复杂的数据（社交网络、交通网、推荐系统）
    

图由：

- Vertex（实体）
    
- Edge（关系）
    
- Properties（属性）
    

图数据库允许快速查询路径、推荐、本体关系。

---

# **9. Data Access in Applications（应用中的数据访问层）**

📍页 60–70

无论数据库类型：

- 应用程序通过“数据库连接 API”访问（JDBC、Python DB-API、ODBC）
    
- 数据访问层负责对象与数据库值之间的转换
    

---

# **10. Query Languages（查询语言）**

📍页 66–68

### Declarative（声明式，SQL、Cypher）

- 你只写“要什么”
    
- 数据库决定“怎么做”
    

### Imperative（命令式）

- 你必须写具体步骤（常见于程序语言）
    

---

# **11. ORM：Object Relational Mapping**

📍页 80–83

ORM 的作用：

- 简化应用程序与数据库之间的映射
    
- 直接用对象增删改查，而不是 SQL
    

SQLAlchemy ORM 是本课重点。

---

# **12. Metadata（元数据）**

📍页 84–90

### 什么是 Metadata？

数据的“描述”  
例如照片 metadata 包括：

- 拍摄时间
    
- 分辨率
    
- 拍摄地点
    
- 扫描方式
    

### Metadata 的类型：

- **Descriptive**（描述性）
    
- **Administrative**（管理性）
    
- **Structural**（结构性）
    
- **Provenance**（来源与过程）
    

### RDF 三元组

Subject – Predicate – Object  
例如：

- _Mona Lisa_ – _creator_ – _Da Vinci_