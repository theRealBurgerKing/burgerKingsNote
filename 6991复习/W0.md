fn main() - 这是 Rust 程序的入口点函数

println! - 这是一个宏（注意感叹号！），用于打印文本并在末尾添加换行符

println! 宏在每次调用时都会锁定标准输出。如果您在热循环中调用

println!，此行为可能成为循环的瓶颈。为避免这种情况，请使用

io::stdout().lock() 锁定 stdout：

格式化语法：

// 新语法（变量名直接使用） println!("{name} 考了 {score} 分"); // 自动使用同名变量

编译运行：

$ rustc main.rs

$ ./main

Hello, world!

1. print! 与 println! 的区别

关键区别：换行符：print! - 不自动换行 println! - 自动换行

行缓冲：有时候

print! 的内容不会立即显示在屏幕上，使用flush强制显示

fn main() { // 创建一个字符串来存储用户输入 let mut input = String::new();

// 读取用户输入的一行 io::stdin() .read_line(&mut input) .expect("读取输入失败");

// 去掉末尾的换行符并打印 print!("{}", input); }

Rust 循环完整指南

1. for 循环（最常用）

基本语法

for 变量名 in 范围 { // 循环体 }

数字范围循环

// 1 到 5（不包含 5） for i in 1..5 { println!("数字: {}", i); // 输出 1, 2, 3, 4 } // 1 到 5（包含 5） for i in 1..=5 { println!("数字: {}", i); // 输出 1, 2, 3, 4, 5 }

遍历数组和向量

// 遍历数组 let numbers = [10, 20, 30, 40]; for num in numbers { println!("数字: {}", num); }

2. while 循环

基本语法

while 条件 { // 循环体 }

示例

let mut count = 0; while count < 5 { println!("计数: {}", count); count += 1; // count = count + 1 }

3. loop 循环（无限循环）

基本语法

loop { // 循环体 // 需要 break 来退出 }

示例

let mut counter = 0; loop { counter += 1; println!("计数: {}", counter); if counter >= 5 { break; // 退出循环 } }

4. 循环控制

break - 退出循环

for i in 1..10 { if i == 5 { break; // 遇到 5 就退出 } println!("{}", i); // 输出 1, 2, 3, 4 }

continue - 跳过当前迭代

for i in 1..6 { if i == 3 { continue; // 跳过 3 } println!("{}", i); // 输出 1, 2, 4, 5 }

嵌套循环标签

'outer: for i in 1..4 { 'inner: for j in 1..4 { if i == 2 && j == 2 { break 'outer; // 退出外层循环 } println!("i: {}, j: {}", i, j); } }

使用cargo管理项目

cargo new test1

cd test1

cargo run

cargo check